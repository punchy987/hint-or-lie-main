/* Cartes */
.card{
  background: #1a1625;
  border:1px solid rgba(255,255,255,.1);
  border-radius:20px; padding:24px;
  box-shadow: 0 10px 30px rgba(0,0,0,.5);
}

/* Inputs */
.input, input{
  width:100%; border-radius:14px; border:1px solid rgba(255,255,255,.12);
  background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.03));
  color:var(--text); padding:14px; font-size:16px; outline:none; transition:.2s;
}
.input::placeholder, input::placeholder{ color:#bfa8c7 }
.input:focus, input:focus{
  border-color: color-mix(in srgb, var(--accent) 60%, white 0%);
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--accent) 35%, transparent);
}

/* Boutons */
button{
  display:block; width:100%;
  font-weight:900; letter-spacing:.3px;
  padding:14px 18px; border-radius:14px; border:0;
  background: linear-gradient(90deg, var(--accent), color-mix(in srgb, var(--accent-2) 35%, var(--accent) 65%));
  color:#2a0e16; cursor:pointer;
  box-shadow: 0 12px 28px color-mix(in srgb, var(--accent) 35%, transparent);
  transition: transform .06s cubic-bezier(0.34, 1.56, 0.64, 1), filter .2s ease, box-shadow .2s ease;
}
button:hover{ filter:brightness(1.08); box-shadow: 0 16px 32px color-mix(in srgb, var(--accent) 45%, transparent); }
button:active{ transform: scale(0.98) }
.btn-secondary{
  background:#0f1523; border:1px solid var(--line); color:var(--text); font-weight:700; border-radius:14px; padding:12px 14px;
  transition: transform .06s cubic-bezier(0.34, 1.56, 0.64, 1), background .2s ease, border-color .2s ease;
}
.btn-secondary:hover{ background: rgba(255,255,255,0.12); border-color: var(--accent); }
.btn-secondary:active{ transform: scale(0.98) }

/* Rôles */
.role{
  font-weight:900; border:1px solid currentColor; border-radius:999px; padding:6px 12px; display:inline-block;
  /* Fond OPAQUE pour masquer la progression derrière */
  background:#140f1a;
}
.role.crew{ color:var(--accent-3); border-color:var(--accent-3) }
.role.imp{  color:var(--accent-2); border-color:var(--accent-2) }

/* Titres / section */
.section-title{ font-size:18px; margin:6px 0 }

/* Hero */
.hero{
  display:flex; gap:16px; align-items:center; padding:16px 14px; border-radius:18px;
  background:linear-gradient(180deg, #1b1422, #14101b); border:1px solid var(--line);
  box-shadow: inset 0 0 0 1px #21162b;
}
.hero h1{ font-size:28px; letter-spacing:.3px }
.hero svg{ width:62px; height:62px; flex:0 0 62px; filter: drop-shadow(0 8px 18px rgba(255,168,77,.25)) }

/* Tabs */
.tabs{ margin-top:12px; border:1px solid var(--line); border-radius:14px; background:#140f1a }
.tab-nav{ display:flex; border-bottom: 2px solid rgba(255,255,255,0.05); }
.tab-btn{ 
  flex:1; padding:12px 14px; border:0; background:transparent; color:#d9c1e3; font-weight:800; cursor:pointer;
  border-bottom: 3px solid transparent;
  transition: color .2s ease, border-bottom-color .2s ease;
  position: relative;
}
.tab-btn:hover{ color: #fff7f1; }
.tab-btn[aria-selected="true"]{ 
  color: var(--accent);
  border-bottom-color: var(--accent);
}
.tab-pane{ display:none; padding:14px; animation: fadeIn .3s ease-out }
.tab-pane.active{ display:block }

/* Rules / liste simple */
.rules{ margin-top:10px; border:1px dashed var(--line); border-radius:12px; padding:12px; background:#140f1a }

/* Chip Thème */
.theme-chip{
  display:flex; align-items:center; gap:8px; padding:6px 14px; border-radius:999px;
  border:1px solid color-mix(in srgb, var(--accent) 70%, #fff 0%);
  /* couche 1 (visuel) + couche 2 OPAQUE (masque la progression) */
  background:
    linear-gradient(180deg, color-mix(in srgb, var(--accent) 18%, transparent), color-mix(in srgb, var(--accent-2) 14%, transparent)),
    #140f1a;
  box-shadow:0 10px 28px rgba(255,168,77,.14); font-weight:800; max-width:100%; flex-wrap:wrap; justify-content:center;
}
.theme-chip b{ color:#ffd0c4; font-weight:900; font-size:16px; text-transform:capitalize; white-space:normal; word-break:break-word; overflow-wrap:anywhere }

/* Signature (haut) */
.title-line{ display:flex; align-items:center; gap:12px; flex-wrap:wrap }
.signature-badge{
  font-size:13px; font-weight:800; letter-spacing:.2px; color:var(--ink); opacity:.9;
  padding:4px 10px; border-radius:999px; border:1px solid var(--line);
  background: linear-gradient(180deg, rgba(255,168,77,.12), rgba(255,168,77,.06));
  box-shadow: 0 6px 16px rgba(255,168,77,.12);
}
.signature-badge::before{ content:'✦'; margin-right:6px; opacity:.9 }

/* Bouton install PWA */
#btn-install{ position: sticky; top:0; z-index:1000; width:100%; border-radius:0; padding:12px 16px; font-weight:800 }

/* Accueil — éviter les décalages en étroit */
#screen-home .row{ width:100%; margin-left:0; margin-right:0 }
#screen-home .tab-pane{ padding-left:12px; padding-right:12px }
/* Entrées/boutons 100% */
#screen-home input, #screen-home button{ width:100%; min-width:0 }

/* === Phase bar: layout & alignment (gauche/centre/droite) === */
.phase-bar{
  display: grid;
  grid-template-columns: 1fr auto 1fr; /* gauche | centre | droite */
  align-items: center;
  column-gap: 10px;
  row-gap: 6px;
  position: relative;
  padding: 8px 12px;           /* espace interne confortable */
  border-radius: 12px;         /* garde l’arrondi même si le card est tout en haut */
  min-width: 0;                /* évite les débordements */
}

.phase-left,
.phase-center,
.phase-right{
  display: flex;
  align-items: center;
  gap: 8px;
  flex-wrap: wrap;             /* si trop serré, ça passe à la ligne proprement */
  min-width: 0;                /* autorise le shrink s’il le faut */
}

/* Alignements explicites */
.phase-left   { justify-content: flex-start; }
.phase-center { justify-content: center; }
.phase-right  { justify-content: flex-end; }

/* Empêche les pastilles de se couper n’importe comment */
.phase-bar .pill,
.phase-bar .role,
.phase-bar .kpi,
.phase-bar .theme-chip{
  white-space: nowrap;
  min-width: 0;
}

/* Pastilles au-dessus de la progression et opaques */
.phase-bar .role,
.phase-bar .theme-chip,
.phase-bar .pill,
.phase-bar .kpi{
  position: relative;
  z-index: 3;
  background-clip: padding-box;
}

/* Mobile : on empile proprement les 3 zones et on centre */
@media (max-width: 560px){
  .phase-bar{
    grid-template-columns: 1fr;     /* une colonne */
  }
  .phase-left,
  .phase-center,
  .phase-right{
    justify-content: center;        /* tout centré */
  }
}

.error {
  color: var(--danger);
  font-weight: bold;
}

/* Indice imposteur (tip) — mise en valeur */
.tip {
  background: linear-gradient(180deg, rgba(255, 59, 59, 0.15), rgba(255, 59, 59, 0.08));
  color: #ffb3b3;
  padding: 12px 14px;
  border-radius: 12px;
  text-align: center;
  border: 1px solid rgba(255, 59, 59, 0.3);
  font-weight: 600;
  font-size: 15px;
  animation: slideInDown .4s cubic-bezier(0.34, 1.56, 0.64, 1);
}

@keyframes slideInDown {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}
